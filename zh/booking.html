<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
    </script>
    <script type="text/javascript">
        (function () {
            emailjs.init({
                publicKey: "A-DBG3NyHcWQMkDY5",
            });
        })();
    </script>
    <script src="/booking.js"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Petrona:wght@400;700&family=Plus+Jakarta+Sans:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <link rel="stylesheet" href="/booking.css">
    <link rel="stylesheet" href="/responsive.css">
    <link rel="stylesheet" href="/booking-responsive.css">
    <link rel="stylesheet" href="/flatpickr.css">
    <script
        src="https://www.paypal.com/sdk/js?client-id=ASN4pkPq5xe_8nQXAMM661iuch7tsycCTK6fsw26GhuV8e10z2mco_BcJn32T_55Fjq0sw7y3vKoZkwl&currency=EUR&components=buttons"></script>
    <title>預訂</title>
</head>

<body>
    <nav>
      <div class="wrapper">
        <a href="/en/index.html">
          <img class="con-scritta" src="/assets/images/logo.jpg" alt="Leggero Tours 標誌">
          <img class="senza-scritta" src="/assets/images/logo.svg" alt="Leggero Tours 標誌">
        </a>
          <div class="language-dropdown">
            <button class="dropdown-toggle">
              <img src="/assets/icons/flags/zh.svg" alt="English" />
            </button>
            <ul class="dropdown-menu">
              <li onclick="window.location.href='/index.html'"><a href="/index.html"><img src="/assets/icons/flags/it.svg" alt="">Italiano</a></li>
              <li onclick="window.location.href='/en/index.html'"><a href="/en/index.html"><img src="/assets/icons/flags/gb.svg" alt="">English</a></li>
              <li onclick="window.location.href='/de/index.html'"><a href="/de/index.html"><img src="/assets/icons/flags/de.svg" alt="">Deutsch</a></li>
              <li onclick="window.location.href='/fr/index.html'"><a href="/fr/index.html"><img src="/assets/icons/flags/fr.svg" alt="">Français</a></li>
              <li onclick="window.location.href='/es/index.html'"><a href="/es/index.html"><img src="/assets/icons/flags/es.svg" alt="">Español</a></li>
              <li onclick="window.location.href='/ru/index.html'"><a href="/ru/index.html"><img src="/assets/icons/flags/ru.svg" alt="">русский</a></li>
              <li onclick="window.location.href='/zh/index.html'"><a href="/zh/index.html"><img src="/assets/icons/flags/zh.svg" alt="">中文</a></li>
            </ul>
          </div>
<a href="tel:+39 346 33 65 699"><button><img src="/assets/icons/phone.svg" alt=""><span>聯絡我們！</span></button></a>
      </div>
    </nav>
    <div id="step-1" class="booking-step">
        <section class="booking-table">

            <div class="wrapper-main-subtitle">
                <div class="section-heading">
                    <div class="wrapper-customize">
                        <p>自訂您的行程</p>
                    </div>
                    <div class="influences-wrapper">
                        <img src="/assets/icons/influences.svg" alt="" />
                        <p>影響價格</p>
                    </div>
                </div>
                <p class="main-subtitle">調整篩選條件以檢查可用性</p>
            </div>
            <div class="options-wrapper" id="options-div">
                <!-- Experience -->
                <div class="option-row experience" data-key="experience">
                    <select name="experience-dropdown" class="native-overlay-select"></select>
                    <div class="option-wrapper">
                        <div class="option-subtitle">
                            <img src="/assets/icons/cards.svg" alt="" />
                            <p>體驗</p>
                        </div>
                        <div class="option-value">
                            <p>彩虹之旅</p>
                        </div>
                    </div>
                    <img src="/assets/icons/cheveron-down.svg" class="chevron-icon" alt="dropdown" />
                    <div class="dropdown-content"></div>
                </div>
                <hr>


                <!-- Slot -->
                <div class="option-row" data-key="slot">
                    <select name="slot-dropdown" class="native-overlay-select"></select>
                    <div class="option-wrapper">
                        <div class="option-subtitle">
                            <img src="/assets/icons/calendar-tick.svg" alt="" />
                            <p>時段</p>
                        </div>
                        <div class="option-value">
                            <p>全天</p>
                        </div>
                    </div>
                    <img class="price-influences" src="/assets/icons/influences.svg" alt="" />
                    <img src="/assets/icons/cheveron-down.svg" class="chevron-icon" alt="dropdown" />
                    <div class="dropdown-content"></div>
                </div>
                <hr>

                <!-- Sunset Combo -->
                <div class="option-row" data-key="combo">
                    <select name="combo-dropdown" class="native-overlay-select"></select>
                    <div class="option-wrapper">
                        <div class="option-subtitle">
                            <img src="/assets/icons/cards.svg" alt="" />
                            <p>日落組合</p>
                        </div>
                        <div class="option-value">
                            <p>太棒了！</p>
                        </div>
                    </div>
                    <img class="price-influences" src="/assets/icons/influences.svg" alt="" />
                    <img src="/assets/icons/cheveron-down.svg" class="chevron-icon" alt="dropdown" />
                    <div class="dropdown-content"></div>
                </div>
                <hr>

                <!-- People -->
                <div class="option-row" data-key="people">
                    <select name="people-dropdown" class="native-overlay-select"></select>
                    <div class="option-wrapper">
                        <div class="option-subtitle">
                            <img src="/assets/icons/people.svg" alt="" />
                            <p>人數</p>
                        </div>
                        <div class="option-value">
                            <p>2</p>
                        </div>
                    </div>
                    <div class="price-influences"></div>
                    <img src="/assets/icons/cheveron-down.svg" class="chevron-icon" alt="dropdown" />
                    <div class="dropdown-content"></div>
                </div>
                <hr>
                <!-- Group Type -->
                <div class="option-row" data-key="groupType">
                    <select name="groupType-dropdown" class="native-overlay-select"></select>
                    <div class="option-wrapper">
                        <div class="option-subtitle">
                            <img src="/assets/icons/locked.svg" alt="" />
                            <p>團體</p>
                        </div>
                        <div class="option-value">
                            <p>私人</p>
                        </div>
                    </div>
                    <img class="price-influences" src="/assets/icons/influences.svg" alt="" />
                    <img src="/assets/icons/cheveron-down.svg" class="chevron-icon" alt="dropdown" />
                    <div class="dropdown-content"></div>
                </div>
            </div>
            <section class="calendar-section">
                <div id="calendar"></div>
                <input id="calendar-input" type="text" style="display:none;" />
                <button id="continueBtn" style="margin-top: 1rem;" class="option-input" position="sticky" bottom="0">
                    <p id="step1-price">€ 0.00</p>繼續
                </button>
            </section>
        </section>

        </section>
    </div>

    <div id="step-2" style="display: none;">
        <div class="booking-table">
            <div class="split-summary">
                <div class="options options-wrapper">
                    <div class="section-heading">
                        <p>您的行程很棒！</p>
                    </div>

                    <div class="option-row locked">
                        <div class="option-content">
                            <div class="option-subtitle">
                                <p>體驗</p>
                            </div>
                            <div class="option-value">
                                <p id="summary-experience">-</p>
                            </div>
                        </div>
                    </div>

                    <div class="option-row locked">
                        <div class="option-content">
                            <div class="option-subtitle">
                                <p>日期</p>
                            </div>
                            <div class="option-value">
                                <p id="summary-date">-</p>
                            </div>
                        </div>
                    </div>

                    <div class="option-row locked" id="summary-slot-container">
                        <div class="option-content">
                            <div class="option-subtitle">
                                <p>時段</p>
                            </div>
                            <div class="option-value">
                                <p id="summary-slot">-</p>
                            </div>
                        </div>
                    </div>

                    <div class="option-row locked">
                        <div class="option-content">
                            <div class="option-subtitle">
                                <p>人數</p>
                            </div>
                            <div class="option-value">
                                <p id="summary-people">-</p>
                            </div>
                        </div>
                    </div>

                    <div class="option-row locked">
                        <div class="option-content">
                            <div class="option-subtitle">
                                <p>團體類型</p>
                            </div>
                            <div class="option-value">
                                <p id="summary-groupType">-</p>
                            </div>
                        </div>
                    </div>

                    <div class="option-row locked" id="summary-combo-container">
                        <div class="option-content">
                            <div class="option-subtitle">
                                <p>組合</p>
                            </div>
                            <div class="option-value">
                                <p id="summary-combo">-</p>
                            </div>
                        </div>
                    </div>
                    <div class="option-row option-price">
                        <div class="option-content">
                            <div class="option-subtitle">
                            <p>最終價格</p>
                            </div>
                            <div class="option-value">
                                <p id="summary-price">€ 0.00</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="options options-wrapper">
                    <div class="section-heading">
                        <p>您的資訊</p>
                    </div>

                    <div class="option-content">
                        <div class="option-subtitle">
                            <p>名字 <span class="required-star">*</span></p>
                        </div>
                        <input type="text" id="input-name" class="option-input" placeholder="名字" />
                    </div>

                    <div class="option-content">
                        <div class="option-subtitle">
                            <p>姓氏 <span class="required-star">*</span></p>
                        </div>
                        <input type="text" id="input-surname" class="option-input" placeholder="姓氏" />
                    </div>

                    <div class="option-content">
                        <div class="option-subtitle">
                            <p>電子郵件 <span class="required-star">*</span></p>
                        </div>
                        <input type="email" id="input-email" class="option-input" placeholder="電子郵件" />
                        <div id="email-error" class="input-error"></div>
                    </div>

                    <div class="option-content">
                        <div class="option-subtitle">
                            <p>確認電子郵件 <span class="required-star">*</span></p>
                        </div>
                        <input type="email" id="input-email-confirm" class="option-input" placeholder="確認電子郵件" />
                        <div id="confirm-email-error" class="input-error"></div>
                    </div>

                    <div class="option-content">
                        <div class="option-subtitle">
                            <p>電話 <span class="required-star">*</span></p>
                        </div>
                        <div style="display: flex; gap: 0.5em; align-items: center;">
                            <select id="input-phone-prefix" class="option-input" style="width: 8em;">
                                <option value="+39">🇮🇹 +39</option>
                                <option value="+44">🇬🇧 +44</option>
                                <option value="+33">🇫🇷 +33</option>
                                <option value="+49">🇩🇪 +49</option>
                                <option value="+34">🇪🇸 +34</option>
                                <option value="+1">🇺🇸 +1</option>
                                <option value="+41">🇨🇭 +41</option>
                                <option value="+43">🇦🇹 +43</option>
                                <option value="+351">🇵🇹 +351</option>
                                <option value="+420">🇨🇿 +420</option>
                                <option value="+386">🇸🇮 +386</option>
                                <option value="+385">🇭🇷 +385</option>
                                <option value="+48">🇵🇱 +48</option>
                                <option value="+36">🇭🇺 +36</option>
                                <option value="+32">🇧🇪 +32</option>
                                <option value="+31">🇳🇱 +31</option>
                                <option value="+30">🇬🇷 +30</option>
                                <option value="+420">🇨🇿 +420</option>
                                <option value="+353">🇮🇪 +353</option>
                                <option value="+47">🇳🇴 +47</option>
                                <option value="+46">🇸🇪 +46</option>
                                <option value="+45">🇩🇰 +45</option>
                                <option value="+358">🇫🇮 +358</option>
                                <option value="+7">🇷🇺 +7</option>
                                <option value="+90">🇹🇷 +90</option>
                                <option value="+420">🇨🇿 +420</option>
                                <option value="+61">🇦🇺 +61</option>
                                <option value="+64">🇳🇿 +64</option>
                                <option value="+81">🇯🇵 +81</option>
                                <option value="+86">🇨🇳 +86</option>
                                <option value="+91">🇮🇳 +91</option>
                            </select>
                            <input type="tel" id="input-phone" class="option-input" placeholder="電話號碼"
                                style="flex:1;" />
                        </div>
                        <div id="phone-error" class="input-error"></div>
                    </div>

                    <div class="option-content">
                        <div class="option-subtitle">
                            <p>備註</p>
                        </div>
                        <textarea id="input-notes" class="option-input" placeholder="其他備註..." rows="5"
                            maxlength="200"></textarea>
                    </div>
                </div>
            </div>
        </div>

        <section class="buttons">
            <button id="backBtn" style="margin-top: 1rem;" class="option-input">返回</button>
            <button id="bookBtn" style="margin-top: 1rem;" class="option-input">預訂您的體驗</button>
        </section>
        <!-- Overlay to blur background and contain PayPal modal -->
        <div id="paypal-overlay" style="display: none;">
            <div id="paypal-container">
                <button id="paypal-close">✖</button>
                <div id="paypal-button-wrapper"></div>
            </div>
        </div>

    </div>

<script>
  const toggle = document.querySelector('.dropdown-toggle');
  const menu = document.querySelector('.dropdown-menu');

  toggle.addEventListener('click', (e) => {
    e.stopPropagation();
    menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
  });

  document.addEventListener('click', () => {
    menu.style.display = 'none';
  });
</script>


</body>

</html>